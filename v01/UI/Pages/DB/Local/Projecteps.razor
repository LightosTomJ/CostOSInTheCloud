@page "/projecteps"
@inherits ProjectepsBase

@using Models.DB.Local

<h3>Enterprise Project Structure</h3>

@if (projectEPS == null)
{
    <span>Loading</span>
}
else
{
<div class="col-md-6" style="margin-bottom: 16px">
    <h3>Data-bound to Entity Framework</h3>
    <RadzenTree Expand="@LogExpand" Change="@LogChange" Data="@projectEPS" Style="width: 100%; height: 300px">

        @if (CountParentNodes().Result > 0)
        {
            @foreach (var parent in GetParentNodes().Result)
            {
                <RadzenTreeItem Text=@parent.Title>
                    @if (HasSubNodes(parent).Result == true)
                    {
                        @foreach (var sub in GetSubNodes(parent).Result)
                        {
                            <RadzenTreeItem Text=@sub.Title>

                            </RadzenTreeItem>
                        }
                    }
                </RadzenTreeItem>
            }
        }
</RadzenTree>

</div>

}
